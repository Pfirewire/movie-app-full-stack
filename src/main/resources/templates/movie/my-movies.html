<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>

    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="_csrf" data-th-content="${_csrf.token}" />


    <!-- Title and Favicon -->
    <title>Movie App</title>
    <link rel="shortcut icon" type="images/png" th:href="@{/megamanicon.png}">

    <!-- CDN Links -->
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

    <!-- Scripts and Stylesheets -->
<!--    <script th:src="@{/js/keys.js}"></script>-->
<!--    <script src="../../static/js/keys.js"></script>-->
    <script th:src="@{/js/jquery-3.6.1.min.js}"></script>
<!--    <script src="../../static/js/jquery-3.6.1.min.js"></script>-->
    <link rel="stylesheet" th:href="@{css/my-movies.css}">



</head>
<body>

<div hidden th:object="${url}">
    <div id="base-url" th:text="*{baseUrl}"></div>
</div>
<!-- Page Wrapper Div to easily change full background-->
<div id="page-wrapper" class="normal-bg">

    <!--Navbar -->
    <div th:replace="partials :: siteBar" />
<!--    <nav id="site-bar" class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">-->
<!--        <a class="navbar-brand ps-3" th:href="@{/}">Pfirewire's Movies</a>-->
<!--        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#site-bar-content">-->
<!--            <img th:src="@{/megamanicon.png}" style="max-height: 3em; max-width: 3em;">-->
<!--        </button>-->

<!--        <div class="collapse navbar-collapse ms-3" id="site-bar-content">-->
<!--            <div class="d-flex justify-content-between">-->
<!--            <span sec:authorize="isAuthenticated()">-->
<!--                <ul class="navbar-nav">-->
<!--                    <li class="nav-item">-->
<!--                        <a id="nav-my-lists" class="nav-link" th:href="@{/my-movies}">My Movie Lists</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a id="nav-create-list" class="nav-link" href="#">Create Movie List</a>-->
<!--                    </li>-->
<!--                    <li>-->
<!--                        <form id="site-bar-logout-form" th:action="@{/logout}" th:method="post">-->
<!--&lt;!&ndash;                            <button class="btn nav-link fs-5">Logout</button>&ndash;&gt;-->
<!--                            <a id="site-bar-logout-link" role="button" class="nav-link" href="#">Logout</a>-->
<!--                        </form>-->
<!--                    </li>-->
<!--                </ul>-->
<!--            </span>-->
<!--                <span sec:authorize="isAnonymous()">-->
<!--                <ul class="navbar-nav">-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" th:href="@{/signup}">Signup</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" th:href="@{/login}">Login</a>-->
<!--                    </li>-->
<!--                </ul>-->
<!--            </span>-->
<!--            </div>-->
<!--        </div>-->
<!--    </nav>-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark text-light fixed-bottom">
        <div class="container-fluid d-flex justify-content-between py-1">
            <!-- Add Button -->
            <div class="nav-item ms-md-5 ms-2">
                <button id="add-movie-btn" class="btn text-dark" data-bs-toggle="modal" data-bs-target="#add-movie-modal">Add Movie</button>
            </div>
            <!-- Hidden Timer -->
            <h3 id="back-room-timer"></h3>
            <!-- Sort Select Field -->
            <div id="nav-sort-div" class="nav-item me-md-5 ms-2">
                <select name="sort-select" id="sort-select" class="form-select border-dark" autocomplete="off">
                    <option value="1">Sort</option>
                    <option value="2">A - Z</option>
                    <option value="3">Z - A</option>
                    <option value="4">Newest</option>
                    <option value="5">Oldest</option>
                </select>
            </div>
        </div>
    </nav>

    <!-- Main Wrapper Div for Loading Screen-->
    <div id="main-wrapper">

        <!-- Loading Screen Div-->
        <div id="loading-div" class="d-flex justify-content-center normal-bg">
            <img th:src="@{/javier.png}" id="loading-img" class="spin">
        </div>

        <!-- Add Movie Modal -->
        <div class="modal fade" id="add-movie-modal" tabindex="-1">
            <div class="modal-dialog modal-xl">
                <div class="modal-content bg-dark">
                    <div class="modal-header">
                        <h5 class="modal-title text-light">Add Movie</h5>
                    </div>
                    <div class="modal-body text-center">
                        <input type="text" id="add-movie-text" list="movie-list" class="w-50" autocomplete="off">
                        <div class="container mt-3">
                            <div id="movie-list" class="row gy-3 d-flex justify-content-center"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Single Movie Modal -->
        <div class="modal fade" id="single-movie-modal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content bg-dark">
                    <div id="single-movie-modal-header" class="modal-header">
                    </div>
                    <div class="modal-body text-light">
                        <div class="container mt-3">
                            <div id="single-movie" class="row"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--All Movie Cards-->
        <div id="all-movie-cards-div" class="container-fluid px-5 py-5">
            <div id="cards-div" class="row gy-5"></div>
        </div>

    </div> <!-- Main Wrapper -->
</div> <!-- Page Wrapper -->


<!--       Scripts       -->

<div th:replace="partials :: scripts" />
<script th:src="@{/js/my-movies.js}" />
<script src="../../static/js/my-movies.js"></script>

</body>
</html>